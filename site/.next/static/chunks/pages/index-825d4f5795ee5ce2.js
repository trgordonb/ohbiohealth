(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(754)}])},754:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return F}});var r=n(5893),o=n(7735),a=n(7294),s=n(7098),i=n.n(s);function u(){return(0,r.jsxs)("div",{className:i().hero,children:[(0,r.jsx)("h1",{children:"Welcome To OH Biohealth"}),(0,r.jsx)("h2",{children:"Energized for health"})]})}var l=n(3853),c=n.n(l),d=(n(993),n(5538)),f=n(5716),h=n.n(f),g=n(2345);var b=function(e){var t=[{text:"Male",handler:e.actionProvider.handleGenderMale,id:1},{text:"Female",handler:e.actionProvider.handleGenderFemale,id:2}].map((function(e){return(0,r.jsx)("button",{className:"chatbot-button",onClick:e.handler,children:e.text},e.id)}));return(0,r.jsx)("div",{children:(0,r.jsx)("p",{children:t})})};function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p={botName:"UserProfileBot",initialMessages:[(0,f.createChatBotMessage)("Hi. I'm here to get to know you better."),(0,f.createChatBotMessage)("What is your gender ?",{withAvatar:!1,delay:500,widget:"genderoptions"})],customStyles:{botMessageBox:{backgroundColor:"#28334AFF"},chatButton:{backgroundColor:"#567572ff"}},customComponents:{header:function(){return(0,r.jsx)("div",{style:{backgroundColor:"#567572ff",padding:"5px",borderTopLeftRadius:"5px",borderTopRightRadius:"5px",display:"flex",fontSize:"0.85rem",paddingTop:"12.5px",paddingBottom:"12.5px",paddingRight:"12.5px",paddingLeft:"12.5px",fontWeight:"700",alignItems:"center"},children:"Conversation with Assistant"})}},state:{gender:"",weight:"",step:1},widgets:[{widgetName:"genderoptions",widgetFunc:function(e){return(0,r.jsx)(b,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}({},e))}}]},m=n(9669),y=n.n(m);function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var w,x=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actionProvider=t,this.state=n}var t,n,r;return t=e,(n=[{key:"parse",value:function(e){e.toLowerCase().includes("done")?2===this.state.step&&(console.log("State: ",this.state),y().put("/api/profiles/".concat(this.state.userId),{gender:this.state.gender}).then((function(e){console.log("Response: ",e)})),this.actionProvider.handleGoodbye()):this.actionProvider.handleUnknown()}}])&&j(t.prototype,n),r&&j(t,r),e}();function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){_(e,t,n[t])}))}return e}function C(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var P=function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,"setChatbotMessage",(function(e,t){var n=1===Object.keys(t).length?Object.keys(t)[0]:null,r=1===Object.values(t).length?Object.values(t)[0]:null;n&&r?o.setState((function(t){return O({},t,(_(w={},n,r),_(w,"step",t.step+1),_(w,"messages",C(t.messages).concat([e])),w))})):o.setState((function(t){return O({},t,{messages:C(t.messages).concat([e])})}))})),_(this,"handleGenderMale",(function(){var e=o.createChatbotMessage("We have updated your profile accordingly. Type done to save.");o.setChatbotMessage(e,{gender:"male"})})),_(this,"handleGenderFemale",(function(){var e=o.createChatbotMessage("We have updated your profile accordingly. Type done to save.");o.setChatbotMessage(e,{gender:"female"})})),_(this,"handleUnknown",(function(){var e=o.createChatbotMessage("Not sure what you mean, try again?");o.setChatbotMessage(e,{})})),_(this,"handleGoodbye",(function(){var e=o.createChatbotMessage("Thanks for your time. Hope to hear from you soon.");o.setChatbotMessage(e,{})})),this.createChatbotMessage=t,this.setState=n,this.createClientMessage=r},k=(n(9936),n(4711)),M=n(9111),N=n(2039),S=n.n(N),E=n(6793),T=function(e){var t,n=e.status,o=e.message,s=e.onValidated,i=(0,a.useState)(null),u=i[0],l=i[1],c=(0,a.useState)(null),d=c[0],f=c[1],h=(0,E.$)(),g=h.t,b=(h.i18n,function(){if(l(null),!d)return l("Please enter a valid email address"),null;var e=s({EMAIL:d});return d&&d.indexOf("@")>-1&&e});return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:S().newsletter,children:[(0,r.jsx)("h2",{children:g("subscribe")}),(0,r.jsxs)("div",{className:S().formgroup,children:[(0,r.jsx)("input",{onChange:function(e){var n;return f(null!==(t=null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)&&void 0!==t?t:"")},type:"email",placeholder:g("youremail"),onKeyUp:function(e){return function(e){l(null),13===e.keyCode&&(e.preventDefault(),b())}(e)}}),(0,r.jsx)("button",{className:S().subscribeBtn,onClick:b,children:g("submit")})]}),(0,r.jsxs)("div",{className:S().message,children:["sending"===n&&(0,r.jsx)("div",{children:g("sending")}),"error"===n||u?(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:u||function(e){var t,n,r;if(!e)return null;var o,a=null!==(r=null===e||void 0===e?void 0:e.split("-"))&&void 0!==r?r:null;if("0"!==(null===a||void 0===a||null===(t=a[0])||void 0===t?void 0:t.trim()))return(0,M.decode)(e);var s=null!==(o=null===a||void 0===a||null===(n=a[1])||void 0===n?void 0:n.trim())&&void 0!==o?o:null;return s?(0,M.decode)(s):null}(o)}}):null,"success"===n&&"error"!==n&&!u&&(0,r.jsx)("div",{children:g("thanksubscribe")})]})]})})},I=n(4155),A=function(){var e=I.env.NEXT_PUBLIC_MAILCHIMP_URL;return(0,r.jsx)(k.Z,{url:e,render:function(e){var t=e||{},n=t.subscribe,o=t.status,a=t.message;return(0,r.jsx)(T,{status:o,message:a,onValidated:function(e){return n(e)}})}})};function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){B(e,t,n[t])}))}return e}function F(e){var t=e.currentUser,n=(0,a.useState)(!1),s=n[0],i=n[1];(0,a.useEffect)((function(){t&&!t.hasProvidedInfo&&(d.Am.info("We would like to know more about you. Please chat with our assistant down here."),i(!0),t.id&&(p=L({},p,{state:L({},p.state,{userId:t.id})})))}),[t]);return(0,r.jsxs)("div",{children:[(0,r.jsx)(u,{}),(0,r.jsx)(d.Ix,{}),(0,r.jsx)("div",{className:c().container,children:(0,r.jsx)(A,{})}),(0,r.jsx)("div",{className:c().right,children:s&&(0,r.jsx)(g.Z,{trigger:function(e){return(0,r.jsxs)("button",{className:"btn-icon btn-secondary",children:[(0,r.jsx)(o._t9,{}),"Assistant"]})},position:"top right",closeOnDocumentClick:!0,children:(0,r.jsx)(h(),{config:p,messageParser:x,actionProvider:P})})})]})}},7098:function(e){e.exports={hero:"Hero_hero__q3Jev"}},3853:function(e){e.exports={container:"Layout_container__S4aNf",right:"Layout_right__mkOfM"}},2039:function(e){e.exports={newsletter:"Newsletter_newsletter__IJRJq",formgroup:"Newsletter_formgroup__ZYbKe",message:"Newsletter_message__W5gOk",subscribeBtn:"Newsletter_subscribeBtn__eFUpf"}}},function(e){e.O(0,[415,308,358,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);