(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[866],{9799:function(e,r,n){"use strict";var t=n(4942),o=n(5861),s=n(7757),c=n.n(s),i=n(9669),u=n.n(i),a=n(7294);function d(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function l(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?d(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}r.Z=function(e){var r=e.url,n=e.method,t=e.body,s=e.onSuccess,i=(0,a.useState)(null),d=i[0],f=i[1];return{doRequest:function(){var e=(0,o.Z)(c().mark((function e(){var o,i,a,d=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=d.length>0&&void 0!==d[0]?d[0]:{},e.prev=1,f(null),e.next=5,u()[n](r,l(l({},t),o));case 5:return i=e.sent,s&&s(i.data),e.abrupt("return",i.data);case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),a=e.t0.response.data.errors.map((function(e){return"".concat(e.message)})),f(a[0]);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),errors:d}}},104:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return f}});var t=n(5861),o=n(7757),s=n.n(o),c=n(5538),i=(n(993),n(7294)),u=n(1664),a=n(9799),d=n(6793),l=n(5893);function f(){var e=(0,i.useState)(""),r=e[0],n=e[1],o=(0,i.useState)(""),f=o[0],p=o[1],m=(0,d.$)(),v=m.t,h=(m.i18n,(0,a.Z)({url:"/api/devices",method:"post",body:{deviceId:r,deviceType:f},onSuccess:function(e){e&&e.id&&c.Am.info("Device record added sucessfully"),n("")}})),b=h.doRequest,g=h.errors,x=function(){var e=(0,t.Z)(s().mark((function e(r){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),b();case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){g&&c.Am.error(g)}),[g]),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"w-full md:w-96 md:max-w-full mx-auto",children:(0,l.jsx)("h1",{className:"mt-10 font-bold text-xl",children:v("regdevice")})}),(0,l.jsx)(c.Ix,{}),(0,l.jsx)("div",{className:"w-full md:w-96 md:max-w-full mx-auto",children:(0,l.jsxs)("div",{className:"p-6 border border-gray-300 sm:rounded-md",children:[(0,l.jsxs)("form",{onSubmit:x,children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block mb-6",children:[(0,l.jsx)("span",{className:"text-gray-700",children:v("deviceid")}),(0,l.jsx)("input",{id:"deviceId",name:"deviceId",className:" block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 ",value:r,type:"text",onChange:function(e){return n(e.target.value)}})]}),(0,l.jsxs)("label",{className:"block mb-6",children:[(0,l.jsx)("span",{className:"text-gray-700",children:v("devicetype")}),(0,l.jsxs)("select",{name:"devicetype",id:"devicetype",className:" block w-full mt-1 border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 ",onChange:function(e){return p(e.target.value)},children:[(0,l.jsx)("option",{value:"QM",children:"QM"}),(0,l.jsx)("option",{value:"BM",children:"BM"}),(0,l.jsx)("option",{value:"BES",children:"BES"}),(0,l.jsx)("option",{value:"SEG",children:"SEG"})]})]})]}),(0,l.jsx)("input",{type:"submit",value:v("submit"),className:" h-10 px-5 text-indigo-100 bg-indigo-700 rounded-lg transition-colors duration-150 focus:shadow-outline hover:bg-indigo-800 "})]}),(0,l.jsx)("p",{children:(0,l.jsx)(u.default,{href:"/admin/approve",children:v("approve")})})]})})]})}},2784:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/devicereg",function(){return n(104)}])}},function(e){e.O(0,[37,774,888,179],(function(){return r=2784,e(e.s=r);var r}));var r=e.O();_N_E=r}]);